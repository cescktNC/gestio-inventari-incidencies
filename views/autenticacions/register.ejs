<!DOCTYPE html>
<html lang="en">
<head>
    <title>Regostrar Usuari</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">    
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://www.markuptag.com/bootstrap/5/css/bootstrap.min.css">
</head>
<body>
    <header>
        <%- include('../partials/header'); %>
    </header>
    <div class="container">
        <div class="row">
            <div class="col-md-4 offset-md-4">
                <div class="login-form bg-light mt-4 p-4">

                    <form method="POST" action="/auth/register" class="row g-3">
                        <h4> Registre </h4>
                        
                        <div class="col-12">
                             <label for="nom">Nom</label>
                             <input type="text" name="nom" value="<%= usuari.nom %>" class="form-control" placeholder="nom">
                        </div>
                        <div class="col-12">
                            <label for="cognom">Cognom</label>
                            <input type="text" name="cognom" value="<%= usuari.cognom %>" class="form-control" placeholder="cognom">
                        </div>
                        <div class="col-12">
                             <label for="email">Email</label>
                             <input type="text" name="email"  value="<%= usuari.email %>" oninvalid="setCustomValidity('Format incorrecte \(exemple@domini.com\)')"placeholder="exemple@domini.com" pattern="^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$" class="form-control" required>
                        </div>
                        <div class="col-12">
                             <label for="password">Contrasenya</label>
                             <input type="password" name="password" oninvalid="setCustomValidity('Mínim 8 caràcters \(almenys una mínuscula, una majúscula i un número\)')" class="form-control" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" required>
                        </div>
                        <div class="col-12">
                            <label for="confirm_password">Confirma Contrasenya</label>
                            <input type="password" name="confirm_password" oninvalid="setCustomValidity('Mínim 8 caràcters \(almenys una mínuscula, una majúscula i un número\)')" class="form-control" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" required>
                       </div>
                        <div class="col-12">
                            <button type="submit" class="btn btn-dark float-end">Guardar</button>
                        </div>
                        <hr class="mt-4">
                        <div class="col-12">
                            <p class="text-center mb-0">Tens un compte? <a href="/user/login">Entra</a></p>
                        </div>
                    </form>                                       
                </div>
                <% if (typeof errors !== "undefined") { %>			
                    <div class="alert alert-danger mt-2" role="alert">		    <% errors.forEach(function(error) { %> 				   			<p><%= error.msg %></p>
                                <% }) %>
                    </div>
                <% } %>
            </div>
        </div>
    </div>
    
    <!-- Bootstrap JS -->
    <script src="https://www.markuptag.com/bootstrap/5/js/bootstrap.bundle.min.js"></script>
</body>
</html>
